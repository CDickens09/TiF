<!DOCTYPE html>
<html>
	<body>
	<script src="https://stuk.github.io/jszip/dist/jszip.js"></script>
	<script src="https://stuk.github.io/jszip/vendor/FileSaver.js"></script>
		<div id="Test"></div>

		<script>
			myFunction();
			function myFunction() 
			{
				var xhttp = new XMLHttpRequest();
				xhttp.open("GET", "https://chris14552249.github.io/TiF/TestingXML/res00001.xml", false);
				xhttp.send();
				var xmlDoc = xhttp.responseXML;
				qno = 10;
				for(i = 1; i < qno; i++)
				{
					xmlDoc.getElementsByTagName("section")[0].appendChild(xmlDoc.getElementsByTagName("item")[0].cloneNode(true));
					xmlDoc.getElementsByTagName("mat_formattedtext")[(3 * i) - 1].innerHTML = "Test";
				}
				for(i = 0; i < xmlDoc.getElementsByTagName("mat_formattedtext").length; i++)
				{
					document.getElementById("Test").innerHTML += xmlDoc.getElementsByTagName("mat_formattedtext")[i].innerHTML;
					console.log(xmlDoc.getElementsByTagName("mat_formattedtext")[i].innerHTML);
				}
				var Output = new XMLSerializer().serializeToString(xmlDoc);
				console.log(Output);
				var zip = new JSZip();
				zip.file("res00001.dat", Output);
				zip.file("res00002.dat", "/res00002.dat");
				zip.generateAsync({type:"blob"})
				.then(function (blob) 
				{
					saveAs(blob, "test.zip");
				});
			}
		</script>
	</body>
</html>
