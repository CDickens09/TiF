<!DOCTYPE html>
<html>
    <head>
		<title>TiF</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
		<link rel="stylesheet" href="https://chris14552249.github.io/TiF/generalstyle.css">
		<script src="https://code.jquery.com/jquery-1.10.2.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
		<style>
		</style>
	</head>
	
	<body>
		<!-- Placeholder and script to load navbar -->
		<div id="navigation-placeholder"></div>
		<script>
		$(function()
		{
			$("#navigation-placeholder").load("https://chris14552249.github.io/TiF/navigation.html");
		});
		</script>
		
		<!-- Header for page and link to instructions -->
		<div class="header">
			<h1>BlackBoard Question Pool Maker</h1>
			<p>
				To view instruction please visit the <a href="/TiF/Help">Help</a> page 
			</p>
		</div>
		
		<!-- Row to show question box headers-->
		<div class="row">
			<div class="column iheaders">
				Question Input:
			</div>
			<div class="column iheaders">
				Question Output:
			</div>
		</div>
		
		<!-- Row to show question boxs-->
		<div class="row">
			<div class="column inputs">
				<!-- Text area to input text -->
				<textarea style="width:100%; height:100%;" id = "QInput"></textarea>
			</div>
			<div class="column inputs">
				<!-- Text area to show coded question -->
				<textarea style="width:100%; height:100%;" id = "Converted"></textarea>
			</div>
		</div>
		
		<!-- Row to show button headers-->
		<div class="row">
			<div class="column bheaders">
				Number of Decimals:
			</div>
			<div class="column bheaders">
				Insert Random Value:
			</div>
			<div class="column bheaders">
				Convert Button:
			</div>
		</div>

		<!-- Row to show Buttons-->
		<div class="row">
			<div class="column buttons">
				<!-- Box to input desired random number accuracy -->
				<input type="number" style="width:100%" id="RandomAccuracy" value="2">				
			</div>
			<div class="column buttons">
				<!-- Button to add in a random number identifier -->
				<input style="width:100%" id="RandomButton" type="button" value="Random" onclick="Random();" />
			</div>
			<div class="column buttons">
				<!-- Button to convert question -->
				<input style="width:100%" id="ConvertButton" type="button" value="Convert" onclick="Convert();" />
			</div>
		</div>

		<!-- Row to show answer box headers-->
		<div class="row">
			<div class="column iheaders">
				Answer Input:
			</div>
			<div class="column iheaders">
				Answer Output:
			</div>
		</div>
		
		<!-- Row to show answer boxs-->
		<div class="row">
			<div class="column inputs">
				<!-- Text area to input answer -->
				<textarea style="width:100%; height:100%;" id = "AInput"></textarea>
			</div>
			<div class="column inputs">
				<!-- Text area to show coded answer -->
				<textarea style="width:100%; height:100%;" id = "Converted"></textarea>
			</div>
			<div class="column buttons">
				<!-- Button to initiate download -->
				<input style="width:100%" id="DownloadButton" type="button" value="Download" onclick="OutputFile();" />
			</div>
		</div>

		<script>
			function Random()
			{
				document.getElementById("QInput").value = document.getElementById("QInput").value + "random";
			}
			function Convert()
			{
				// Brings in input from question input box
				var value = document.getElementById("QInput").value;
				// Sets converted box text to match input
				document.getElementById("Converted").value = value;
				while (document.getElementById("Converted").value.search("random") !== -1)
				{
					RanGen();
				}
			}
			function RanGen()
			{
				//Brings in value from converted box
				var value = document.getElementById("Converted").value;
				// Finds index for random value identifier
				var index = value.search("random");
				// Brings in accuracy for random variables
				var acc = document.getElementById("RandomAccuracy").value;
				// Creates new string with random variable added
				value = value.substr(0, index) + Math.random().toFixed(acc) + value.substr(index + 6);
				document.getElementById("Converted").value = value;
			}
			function OutputFile()
			{
				// Brings in Output from converted box
				var Output = document.getElementById("Converted").value;
				// Creates temporary blob file
				var File = new Blob([Output], {type:'text/plain'});
				// Provides file name for file
				var FileName = "test.dat";
				//Creates download element
				var Download = document.createElement("a");
				Download.download = FileName;
				Download.innerHTML = "Download File";
				// For all browsers except Firefox
				if (window.URL != null)
				{
					Download.href = window.URL.createObjectURL(File);
				}
				// For Firefox browser to work
				else
				{
					Download.href = window.URL.createObjectURL(File);
					Download.onclick = destroyClickedElement;
					Download.style.display = "none";
					document.body.appendChild(Download);
				}
				// Starts download of file
				Download.click();
			}
		</script>
		
		<!-- Placeholder and script to load footer -->
		<div id="footer-placeholder"></div>
		<script>
		$(function()
		{
			$("#footer-placeholder").load("https://chris14552249.github.io/TiF/footer.html");
		});
		</script>
	</body>
</html>
